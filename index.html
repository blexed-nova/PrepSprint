<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PrepSprint üöÄ - Engineering Excellence</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { --primary: #1877f2; --bg: #f0f2f5; --text: #1c1e21; }
        body { font-family: 'Segoe UI', Arial, sans-serif; padding: 20px; line-height: 1.6; background-color: var(--bg); color: var(--text); max-width: 850px; margin: auto; }
        .container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative; }
        h1 { color: var(--primary); margin-bottom: 5px; text-align: center; font-size: 2.2em; }
        .tagline { color: #606770; margin-bottom: 30px; text-align: center; font-weight: 500; }
        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px; }
        .control-group { display: flex; flex-direction: column; }
        label { font-weight: bold; font-size: 0.85em; margin-bottom: 8px; color: var(--primary); text-transform: uppercase; letter-spacing: 1px; }
        select { padding: 14px; border-radius: 10px; border: 1.5px solid #ddd; background: #fff; font-size: 1em; outline: none; transition: 0.3s; }
        .actions { display: flex; justify-content: center; gap: 15px; margin-bottom: 30px; flex-wrap: wrap; }
        button { cursor: pointer; padding: 14px 25px; border: none; border-radius: 10px; background-color: var(--primary); color: white; font-weight: 600; font-size: 1em; transition: 0.3s; }
        button:hover { background-color: #1166d8; transform: translateY(-2px); }
        #output { min-height: 200px; border: 2px dashed #cbd5e0; padding: 30px; border-radius: 15px; background: #fafbfc; position: relative; }
        .card-header { font-size: 0.8em; font-weight: bold; color: var(--primary); margin-bottom: 10px; display: block; }
        .answer-box { margin-top: 20px; padding: 15px; background: #e7f3ff; border-radius: 10px; border-left: 6px solid var(--primary); }
        .mcq-option { display: block; background: white; padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; }
        #scoreBoard { position: absolute; top: 20px; right: 20px; background: var(--primary); color: white; padding: 5px 15px; border-radius: 20px; font-weight: bold; }
    </style>
</head>
<body>

<div class="container">
    <div id="scoreBoard">üèÜ Score: 0</div>
    <h1>PrepSprint üöÄ</h1>
    <p class="tagline">Engineering & Applied Sciences Practice Portal</p>

    <div class="controls">
        <div class="control-group">
            <label>Select Subject</label>
            <select id="subject">
                <option value="maths">Engineering Maths</option>
                <option value="physics">Applied Physics</option>
                <option value="chemistry">Engineering Chemistry</option>
                <option value="evs">Environmental Science</option>
                <option value="electronics">Basic Electronics</option>
                <option value="electrical">Electrical Engineering</option>
                <option value="mechanical">Mechanical Engineering</option>
                <option value="comm_skills">Communication Skills</option>
            </select>
        </div>
        <div class="control-group">
            <label>Difficulty Level</label>
            <select id="level">
                <option value="Basic">Basic (Concepts)</option>
                <option value="Medium">Medium (Application)</option>
                <option value="Hard">Hard (Problem Solving)</option>
            </select>
        </div>
    </div>

    <div class="actions">
        <button onclick="showFlashcard()">üî• Flashcard</button>
        <button onclick="showMCQ()">üéØ MCQ</button>
        <button onclick="showTough()">üòà Tough Question</button>
    </div>

    <div id="output">
        <p style="text-align:center; color:#a0aec0; font-style: italic;">Choose your subject and difficulty to begin your sprint.</p>
    </div>
</div>

<script>
    const db = {
        maths: {
            Basic: { q: "What is the derivative of e^x?", a: "The derivative of e^x is always e^x." },
            Medium: { q: "Define a Unit Matrix (Identity Matrix).", a: "A square matrix where the main diagonal is 1s and others are 0s." },
            Hard: { q: "What is the condition for a vector field to be Solenoidal?", a: "Its divergence must be zero (‚àá ¬∑ V = 0)." },
            mcqs: [{ q: "Value of log(1)?", options: ["1", "e", "0", "10"], correct: 2 }]
        },
        physics: {
            Basic: { q: "What is the SI unit of Luminous Intensity?", a: "Candela (cd)." },
            Medium: { q: "Explain Hooke's Law.", a: "Stress is directly proportional to strain (œÉ = EŒµ)." },
            Hard: { q: "What is Brewster's Angle?", a: "The angle where polarized light is perfectly transmitted." },
            mcqs: [{ q: "Which is a vector?", options: ["Mass", "Time", "Force", "Length"], correct: 2 }]
        },
        electrical: {
            Basic: { q: "What is the unit of Conductance?", a: "Siemens (S) or mho." },
            Medium: { q: "State Lenz's Law.", a: "The direction of induced current opposes the change in magnetic flux that produced it." },
            Hard: { q: "What is the Power Factor?", a: "The ratio of Real Power (W) to Apparent Power (VA)." },
            mcqs: [{ q: "Unit of Magnetic Flux?", options: ["Tesla", "Weber", "Henry", "Farad"], correct: 1 }]
        },
        electronics: {
            Basic: { q: "What is KVL?", a: "Kirchhoff's Voltage Law: Sum of voltages in a loop is zero." },
            Medium: { q: "What does a Zener Diode do?", a: "It allows current to flow backwards when a certain reverse voltage is reached." },
            Hard: { q: "Define Alpha in a transistor.", a: "The ratio of Collector current to Emitter current." },
            mcqs: [{ q: "Majority carriers in N-type?", options: ["Holes", "Protons", "Electrons", "Neutrons"], correct: 2 }]
        },
        mechanical: {
            Basic: { q: "Unit of Power?", a: "Watt (W)." },
            Medium: { q: "What is a Strut?", a: "A member resisting compression." },
            Hard: { q: "What is the Carnot Cycle?", a: "The most efficient theoretical cycle." },
            mcqs: [{ q: "Which is a scalar?", options: ["Force", "Work", "Velocity", "Weight"], correct: 1 }]
        },
        evs: {
            Basic: { q: "What is BOD?", a: "Biochemical Oxygen Demand." },
            Medium: { q: "What is Albedo?", a: "Reflection coefficient of a surface." },
            Hard: { q: "What is Bioaccumulation?", a: "Toxin buildup in an organism." },
            mcqs: [{ q: "Main Greenhouse gas?", options: ["Oxygen", "CO2", "Nitrogen", "Argon"], correct: 1 }]
        },
        chemistry: {
            Basic: { q: "pH of pure water?", a: "7" },
            Medium: { q: "Causes Temporary Hardness?", a: "Calcium/Magnesium Bicarbonates." },
            Hard: { q: "What is Octane Number?", a: "Fuel's resistance to knocking." },
            mcqs: [{ q: "Which is an isotope of Hydrogen?", options: ["Helium", "Deuterium", "Lithium", "Neon"], correct: 1 }]
        },
        comm_skills: {
            Basic: { q: "What is Kinesics?", a: "Study of body language." },
            Medium: { q: "What is Active Listening?", a: "Fully concentrating on the speaker." },
            Hard: { q: "What is Paralanguage?", a: "Non-lexical speech parts (tone, pitch)." },
            mcqs: [{ q: "Type of non-verbal comm?", options: ["Email", "Facial Expression", "Letter", "Text"], correct: 1 }]
        }
    };

    let score = 0;
    let timerId = null;
    let currentMCQ = null;

    function updateScore(points) {
        score += points;
        document.getElementById("scoreBoard").innerHTML = `üèÜ Score: ${score}`;
    }

    function showFlashcard() {
        clearInterval(timerId);
        const sub = document.getElementById("subject").value;
        const lvl = document.getElementById("level").value;
        const data = db[sub][lvl];
        document.getElementById("output").innerHTML = `
            <span class="card-header">${sub.toUpperCase()} | ${lvl.toUpperCase()}</span>
            <h2>${data.q}</h2>
            <button onclick="showAns('${data.a}')">View Solution</button>
        `;
    }

    function showAns(ans) {
        if (!document.querySelector('.answer-box')) {
            document.getElementById("output").innerHTML += `<div class="answer-box"><strong>Solution:</strong><br>${ans}</div>`;
            updateScore(5);
        }
    }

    function showMCQ() {
        clearInterval(timerId);
        const sub = document.getElementById("subject").value;
        currentMCQ = db[sub].mcqs[0];
        let opts = "";
        currentMCQ.options.forEach((o, i) => {
            opts += `<label class="mcq-option"><input type="radio" name="mcq" value="${i}"> ${o}</label>`;
        });
        document.getElementById("output").innerHTML = `
            <span class="card-header">${sub.toUpperCase()} MCQ</span>
            <p>${currentMCQ.q}</p>
            ${opts}
            <button onclick="submitMCQ()">Submit</button>
            <div id="feedback"></div>
        `;
    }

    function submitMCQ() {
        const sel = document.querySelector('input[name="mcq"]:checked');
        const f = document.getElementById("feedback");
        if (!sel) return;
        if (parseInt(sel.value) === currentMCQ.correct) {
            f.innerHTML = "<p style='color:green; font-weight:bold;'>‚úÖ Correct! +10 Points</p>";
            updateScore(10);
        } else {
            f.innerHTML = `<p style='color:red;'>‚ùå Wrong. Correct: ${currentMCQ.options[currentMCQ.correct]}</p>`;
        }
    }

    function showTough() {
        clearInterval(timerId);
        let timeLeft = 30;
        document.getElementById("output").innerHTML = `
            <div style="text-align:center;">
                <span class="card-header" style="color:#e74c3c;">TOUGH MODE</span>
                <h2 id="timerDisplay" style="color:#e74c3c;">Time: 30s</h2>
                <p>Electrical: Find Resistance if V=240V and I=2A.</p>
                <input type="number" id="ansIn" style="padding:10px; width:80px;" placeholder="Ohms">
                <button onclick="checkTough(120)">Check</button>
                <p id="fdb"></p>
            </div>
        `;

        timerId = setInterval(() => {
            timeLeft--;
            document.getElementById("timerDisplay").innerText = `Time: ${timeLeft}s`;
            if (timeLeft <= 0) {
                clearInterval(timerId);
                document.getElementById("output").innerHTML = `<h2 style="color:red;">‚åõ Time's Up!</h2><button onclick="showTough()">Retry</button>`;
            }
        }, 1000);
    }

    function checkTough(corr) {
        const val = document.getElementById("ansIn").value;
        const f = document.getElementById("fdb");
        if (parseInt(val) === corr) {
            clearInterval(timerId);
            f.innerHTML = "‚úÖ Correct! +50 Points!";
            f.style.color = "#2ecc71";
            updateScore(50);
        } else {
            f.innerHTML = "‚ùå Try again (V/I)";
            f.style.color = "#e74c3c";
        }
    }
</script>
</body>
</html>
