<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PrepSprint üöÄ - Engineering Excellence</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <style>
        :root { 
            --primary: #1877f2; 
            --bg: #f0f2f5; 
            --card-bg: #ffffff;
            --text: #1c1e21; 
            --success: #2ecc71; 
            --danger: #e74c3c; 
        }

        /* DARK MODE COLORS */
        body.dark-mode {
            --bg: #18191a;
            --card-bg: #242526;
            --text: #e4e6eb;
        }

        body { font-family: 'Segoe UI', Arial, sans-serif; padding: 20px; line-height: 1.6; background-color: var(--bg); color: var(--text); max-width: 850px; margin: auto; transition: 0.3s; }
        .container { background: var(--card-bg); padding: 30px; border-radius: 15px; box-shadow: 0 4px 12px rgba(0,0,0,0.1); position: relative; }
        h1 { color: var(--primary); text-align: center; margin-bottom: 5px; }
        .tagline { color: #606770; text-align: center; margin-bottom: 30px; font-weight: 500; }
        
        #scoreBoard { position: absolute; top: 20px; right: 20px; background: var(--primary); color: white; padding: 8px 15px; border-radius: 20px; font-weight: bold; }
        
        /* DARK MODE TOGGLE */
        .theme-toggle { position: absolute; top: 20px; left: 20px; cursor: pointer; background: #ddd; border-radius: 20px; padding: 5px 10px; font-size: 0.8em; border: none; }
        body.dark-mode .theme-toggle { background: #444; color: white; }

        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 25px; }
        .control-group { display: flex; flex-direction: column; }
        label { font-weight: bold; font-size: 0.8em; color: var(--primary); margin-bottom: 5px; }
        select { padding: 12px; border-radius: 10px; border: 1.5px solid #ddd; outline: none; background: var(--card-bg); color: var(--text); }
        
        .actions { display: flex; justify-content: center; gap: 10px; margin-bottom: 30px; flex-wrap: wrap; }
        button { cursor: pointer; padding: 12px 20px; border: none; border-radius: 10px; background-color: var(--primary); color: white; font-weight: 600; transition: 0.2s; }
        button:hover { background-color: #1166d8; transform: translateY(-1px); }
        
        #output { min-height: 220px; border: 2px dashed #cbd5e0; padding: 30px; border-radius: 15px; background: rgba(0,0,0,0.02); }
        .card-header { font-size: 0.8em; font-weight: bold; color: var(--primary); margin-bottom: 15px; display: block; text-transform: uppercase; border-bottom: 1px solid #eee; padding-bottom: 5px; }
        .answer-box { margin-top: 15px; padding: 15px; background: rgba(24, 119, 242, 0.1); border-radius: 10px; border-left: 6px solid var(--primary); }
        .mcq-option { display: block; background: var(--card-bg); padding: 12px; margin: 8px 0; border: 1px solid #ddd; border-radius: 8px; cursor: pointer; }
        .mcq-option:hover { border-color: var(--primary); background: rgba(24, 119, 242, 0.05); }
    </style>
</head>
<body>

<div class="container">
    <button class="theme-toggle" onclick="toggleTheme()">üåì Toggle Dark Mode</button>
    <div id="scoreBoard">üèÜ Score: 0</div>
    <h1>PrepSprint üöÄ</h1>
    <p class="tagline">Engineering & Applied Sciences Practice Portal</p>

    <div class="controls">
        <div class="control-group">
            <label>SUBJECT</label>
            <select id="subject">
                <option value="maths">Engineering Maths</option>
                <option value="physics">Applied Physics</option>
                <option value="chemistry">Engineering Chemistry</option>
                <option value="electronics">Basic Electronics</option>
                <option value="electrical">Electrical Engineering</option>
                <option value="mechanical">Mechanical Engineering</option>
                <option value="evs">Environmental Science</option>
                <option value="comm">Communication Skills</option>
            </select>
        </div>
        <div class="control-group">
            <label>DIFFICULTY</label>
            <select id="level">
                <option value="Basic">Basic (Concepts)</option>
                <option value="Medium">Medium (Application)</option>
                <option value="Hard">Hard (Problem Solving)</option>
            </select>
        </div>
    </div>

    <div class="actions">
        <button onclick="showFlashcard()">üî• Flashcard</button>
        <button onclick="showMCQ()">üéØ MCQ</button>
        <button onclick="showTough()">üòà Tough Question</button>
    </div>

    <div id="output">
        <p style="text-align:center; color:#888;">Pick your subject and start your sprint!</p>
    </div>
</div>

<script>
    function toggleTheme() {
        document.body.classList.toggle('dark-mode');
    }

    // --- DATABASE ---
    const db = {
        maths: {
            Basic: [{q: "Derivative of sin(x)?", a: "cos(x)"}, {q: "Derivative of e^x?", a: "e^x"}],
            Medium: [{q: "Integral of 1/x?", a: "log(x) + C"}],
            Hard: [{q: "Condition for Solenoidal vector?", a: "‚àá¬∑V = 0"}],
            mcqs: [
                { q: "Value of log(1)?", options: ["1", "e", "0", "10"], correct: 2 },
                { q: "Derivative of tan(x)?", options: ["sec(x)", "sec¬≤(x)", "cos(x)", "sin(x)"], correct: 1 }
            ]
        },
        physics: {
            Basic: [{q: "SI unit of Force?", a: "Newton (N)"}],
            Medium: [{q: "Hooke's Law formula?", a: "Stress ‚àù Strain (F = kx)"}],
            Hard: [{q: "What is Brewster's Angle?", a: "Angle for perfect polarization."}],
            mcqs: [{ q: "Which is a vector?", options: ["Mass", "Time", "Force", "Length"], correct: 2 }]
        },
        mechanical: {
            Basic: [{q: "Unit of Energy?", a: "Joule (J)"}],
            Medium: [{q: "What is a Strut?", a: "A member resisting compression."}],
            Hard: [{q: "Efficiency of Carnot Engine?", a: "Œ∑ = 1 - (T_lower / T_higher)"}],
            mcqs: [{ q: "Which is a scalar?", options: ["Weight", "Force", "Work", "Acceleration"], correct: 2 }]
        },
        // (Other subjects remain the same in database)
        electronics: { Basic: [{q: "KVL?", a: "Kirchhoff's Voltage Law"}], Medium: [{q: "Rectifier?", a: "AC to DC"}], Hard: [{q: "BJT Œ±?", a: "Ic/Ie"}], mcqs: [{ q: "Majority carriers in N-type?", options: ["Holes", "Protons", "Electrons", "Neutrons"], correct: 2 }] },
        electrical: { Basic: [{q: "Resistance?", a: "Ohm (Œ©)"}], Medium: [{q: "Flux?", a: "Weber (Wb)"}], Hard: [{q: "Power Factor?", a: "Real/Apparent Power"}], mcqs: [{ q: "Measure current?", options: ["Voltmeter", "Ammeter", "Galvanometer", "Wattmeter"], correct: 1 }] },
        chemistry: { Basic: [{q: "pH water?", a: "7.0"}], Medium: [{q: "Hardness?", a: "Bicarbonates"}], Hard: [{q: "Octane #?", a: "Knock resistance"}], mcqs: [{ q: "Atmosphere gas?", options: ["Oxygen", "CO2", "Nitrogen", "Hydrogen"], correct: 2 }] },
        evs: { Basic: [{q: "BOD?", a: "Biochemical Oxygen Demand"}], Medium: [{q: "Ecosystem?", a: "Interaction of life and environment"}], Hard: [{q: "Bio-accumulation?", a: "Toxin buildup"}], mcqs: [{ q: "Greenhouse gas?", options: ["CO2", "Oxygen", "Argon", "Helium"], correct: 0 }] },
        comm: { Basic: [{q: "Kinesics?", a: "Body language"}], Medium: [{q: "Barrier?", a: "Obstacle to understanding"}], Hard: [{q: "Proxemics?", a: "Space in communication"}], mcqs: [{ q: "Non-verbal?", options: ["Emails", "Letters", "Expressions", "Calls"], correct: 2 }] }
    };

    let score = 0;
    let timerId = null;
    let currentMCQ = null;

    function updatePoints(pts) {
        score += pts;
        document.getElementById("scoreBoard").innerText = `üèÜ Score: ${score}`;
    }

    function showFlashcard() {
        clearInterval(timerId);
        const sub = document.getElementById("subject").value;
        const lvl = document.getElementById("level").value;
        const pool = db[sub][lvl];
        const card = pool[Math.floor(Math.random() * pool.length)];

        document.getElementById("output").innerHTML = `
            <span class="card-header">${sub} | ${lvl}</span>
            <h2>${card.q}</h2>
            <button onclick="showAns('${card.a}')">View Solution</button>
        `;
    }

    function showAns(ans) {
        if (!document.querySelector('.answer-box')) {
            document.getElementById("output").innerHTML += `<div class="answer-box"><strong>Solution:</strong><br>${ans}</div>`;
            updatePoints(5);
        }
    }

    function showMCQ() {
        clearInterval(timerId);
        const sub = document.getElementById("subject").value;
        const pool = db[sub].mcqs;
        currentMCQ = pool[Math.floor(Math.random() * pool.length)];
        
        let opts = "";
        currentMCQ.options.forEach((o, i) => {
            opts += `<label class="mcq-option"><input type="radio" name="mcq" value="${i}"> ${o}</label>`;
        });

        document.getElementById("output").innerHTML = `
            <span class="card-header">${sub} MCQ</span>
            <p style="font-weight:500;">${currentMCQ.q}</p>
            <div>${opts}</div>
            <button id="submitBtn" onclick="submitMCQ()">Submit Answer</button>
            <div id="feedback"></div>
        `;
    }

    function submitMCQ() {
        const sel = document.querySelector('input[name="mcq"]:checked');
        const f = document.getElementById("feedback");
        const btn = document.getElementById("submitBtn");
        if (!sel || btn.disabled) return;

        btn.disabled = true;
        if (parseInt(sel.value) === currentMCQ.correct) {
            f.innerHTML = "<p style='color:var(--success); font-weight:bold;'>‚úÖ Correct! +10 Points</p>";
            updatePoints(10);
        } else {
            f.innerHTML = `<p style='color:var(--danger); font-weight:bold;'>‚ùå Incorrect. Correct: ${currentMCQ.options[currentMCQ.correct]}</p>`;
        }
    }

    function showTough() {
        clearInterval(timerId);
        let timeLeft = 30;
        document.getElementById("output").innerHTML = `
            <div style="text-align:center;">
                <span class="card-header" style="color:var(--danger);">TOUGH MODE</span>
                <h2 id="timerDisplay" style="color:var(--danger);">30s</h2>
                <p>Mechanical: A Carnot engine operates between 600K and 300K. What is its efficiency Œ∑?</p>
                

[Image of Carnot cycle temperature-entropy diagram]

                <input type="text" id="ansIn" style="padding:10px; width:100px; border-radius:8px; border:1px solid #ccc; background: var(--card-bg); color: var(--text);" placeholder="e.g. 0.5">
                <button onclick="checkTough(0.5)">Check</button>
                <p id="tFeedback" style="margin-top:10px; font-weight:bold;"></p>
            </div>
        `;

        timerId = setInterval(() => {
            timeLeft--;
            document.getElementById("timerDisplay").innerText = timeLeft + "s";
            if (timeLeft <= 0) {
                clearInterval(timerId);
                document.getElementById("output").innerHTML = `<h2 style="color:var(--danger);">‚åõ Time's Up!</h2><button onclick="showTough()">Try Again</button>`;
            }
        }, 1000);
    }

    function checkTough(corr) {
        const val = parseFloat(document.getElementById("ansIn").value);
        const f = document.getElementById("tFeedback");
        if (val === corr) {
            clearInterval(timerId);
            f.innerHTML = "‚úÖ GENIUS! Œ∑ = 1 - (300/600) = 0.5 (50%). +50 Points!";
            f.style.color = "var(--success)";
            updatePoints(50);
        } else {
            f.innerHTML = "‚ùå Wrong! Œ∑ = 1 - (T_low / T_high).";
            f.style.color = "var(--danger)";
        }
    }
</script>
</body>
</html>
